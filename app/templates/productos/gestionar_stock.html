{% extends "base.html" %}
{% block contenido %}
<h3>Gestionar Stock - {{ producto.nombre }}</h3>

<div class="card p-3 shadow-sm" style="max-width:500px;">
    <div class="mb-3">
        <p><strong>Stock Total:</strong> {{ producto.stock }} unidades</p>
        <p><strong>Stock Disponible:</strong> {{ producto.stock - producto.stock_defectuoso }} unidades</p>
        <p><strong>Stock Defectuoso:</strong> {{ producto.stock_defectuoso }} unidades</p>
    </div>

    <form method="POST">
        <label>Cantidad a ingresar</label>
        <input name="cantidad" class="form-control mb-2" type="number" step="0.01" required>

        <label>Proveedor</label>
        <select name="proveedor_id" class="form-control mb-2" required>
            <option value="">-- Seleccionar proveedor --</option>
            {% for p in proveedores %}
            <option value="{{ p.id }}">{{ p.nombre }}</option>
            {% endfor %}
        </select>

        <label>Precio unitario (opcional)</label>
        <input name="precio_unitario" class="form-control mb-3" type="number" step="0.01" placeholder="Dejar vacÃ­o si no se conoce">

        <button type="submit" class="btn btn-success">Ingresar Stock</button>
        <a href="/productos/" class="btn btn-secondary">Cancelar</a>
    </form>
</div>
{% endblock %}
